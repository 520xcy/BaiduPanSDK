import{a as D,k as E,l as z,i as S,m as T,n as I,o as B,p as V,q as L,r as g}from"./_element-plus.6fe2094f.js";import{_ as N,s as h,a as f,g as R}from"./index.53b3ddbb.js";import{g as x,r as U,f as q,al as F,o as M,c as X,a as b,a1 as e,X as a,$ as d,a0 as j}from"./_@vue.454cd839.js";import"./__vendor.a475fe49.js";import"./_@element-plus.19db05d5.js";const A={name:"status",beforeRouteLeave(i,l,c){window.clearInterval(this.timer),c()},setup(){const i=x(""),l=x([]),c=U({data:[]}),o=window.setInterval(()=>{window.setTimeout(_(),0)},2e3),_=()=>{h({url:f.getStatus,method:"get"}).then(t=>{console.log(t.data),c.data=t.data.data})};_();const w=()=>{let t=[];for(const s in l.value)t.push(l.value[s].localfile);h({url:f.delTask,method:"post",data:{key:t}}).then(s=>{g.success("\u4EFB\u52A1\u5DF2\u5220\u9664")})},p=()=>{let t=[];for(const s in l.value)t.push(parseInt(l.value[s].fsids));h({url:f.getFiles,method:"post",data:{fsids:t}}).then(s=>{g.success("\u4EFB\u52A1\u5F00\u59CB\u4E0B\u8F7D")})},u=q(()=>c.data.filter(t=>!i.value||t.file.toLowerCase().includes(i.value.toLowerCase())));return{timer:o,getfilesize:R,search:i,filterTableData:u,handleDelete:w,handleDownload:p,handleSelectionChange:t=>{l.value=t}}}},G={class:"crumbs"},H={class:"container"},J={class:"handle-box"};function K(i,l,c,o,_,w){const p=F("list"),u=D,v=E,t=z,s=S,m=T,C=I,k=B,n=V,y=L;return M(),X("div",null,[b("div",G,[e(t,{separator:"/"},{default:a(()=>[e(v,null,{default:a(()=>[e(u,null,{default:a(()=>[e(p)]),_:1}),d(" \u6B63\u5728\u4E0B\u8F7D ")]),_:1})]),_:1})]),b("div",H,[b("div",J,[e(k,{gutter:10},{default:a(()=>[e(m,{span:2},{default:a(()=>[e(s,{size:"small",type:"danger",icon:"Delete",onClick:o.handleDelete,style:{width:"100%"}},{default:a(()=>[d("\u5220\u9664 ")]),_:1},8,["onClick"])]),_:1}),e(m,{span:2},{default:a(()=>[e(s,{size:"small",type:"success",icon:"Download",onClick:o.handleDownload,style:{width:"100%"}},{default:a(()=>[d("\u4E0B\u8F7D ")]),_:1},8,["onClick"])]),_:1}),e(m,{span:6},{default:a(()=>[e(C,{modelValue:o.search,"onUpdate:modelValue":l[0]||(l[0]=r=>o.search=r),size:"small",placeholder:"\u7B5B\u9009\u6587\u4EF6\u540D"},null,8,["modelValue"])]),_:1})]),_:1})]),e(y,{data:o.filterTableData,height:"800",stripe:"",size:"small","highlight-current-row":"",class:"table","row-key":"localfile",ref:"multipleTable","header-cell-class-name":"table-header",onSelectionChange:o.handleSelectionChange},{default:a(()=>[e(n,{type:"selection",width:"55","reserve-selection":!0}),e(n,{"min-width":"300px",label:"\u6587\u4EF6\u540D",prop:"file",sortable:"",fixed:""}),e(n,{"min-width":"100px",label:"\u5927\u5C0F",prop:"size"},{default:a(r=>[d(j(r.row.size>0?o.getfilesize(r.row.size):0),1)]),_:1}),e(n,{width:"100px",label:"\u72B6\u6001",prop:"status"}),e(n,{"min-width":"600px",label:"\u5B9E\u9645\u8DEF\u5F84",prop:"localfile"}),e(n,{"min-width":"150px",label:"\u65F6\u95F4",prop:"date"}),e(n,{"min-width":"200px",label:"\u5907\u6CE8",prop:"connect"}),e(n,{"min-width":"150px",label:"\u6587\u4EF6id",prop:"fsids"})]),_:1},8,["data","onSelectionChange"])])])}var Z=N(A,[["render",K],["__scopeId","data-v-9e1757e2"]]);export{Z as default};
