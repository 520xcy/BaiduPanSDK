import{a as z,k,l as I,i as T,m as B,n as V,o as D,p as L,b as N,q as R,r as U}from"./_element-plus.6fe2094f.js";import{_ as q,s as b,a as w,g as F}from"./index.53b3ddbb.js";import{g as v,r as M,f as P,al as X,o as j,c as A,a as p,a1 as e,X as a,$ as d,a0 as u}from"./_@vue.454cd839.js";import"./__vendor.a475fe49.js";import"./_@element-plus.19db05d5.js";const G={name:"run",beforeRouteLeave(s,n,r){window.clearInterval(this.timer),r()},setup(){const s=v(""),n=v([]),r=M({data:[]}),o=window.setInterval(()=>{window.setTimeout(_(),0)},2e3),_=()=>{b({url:w.getRun,method:"get"}).then(t=>{console.log(t.data),r.data=t.data.data})};_();const f=()=>{let t=[];for(const i in n.value)t.push(parseInt(n.value[i].fs_id));b({url:w.getStop,method:"post",data:{fsids:t}}).then(i=>{U.success("\u4EFB\u52A1\u5DF2\u505C\u6B62")})},m=P(()=>r.data.filter(t=>!s.value||t.filename.toLowerCase().includes(s.value.toLowerCase())));return{timer:o,getfilesize:F,search:s,filterTableData:m,handleStop:f,handleSelectionChange:t=>{n.value=t}}}},H={class:"crumbs"},J={class:"container"},K={class:"handle-box"};function O(s,n,r,o,_,f){const m=X("video-play"),h=z,t=k,i=I,C=T,g=B,x=V,E=D,c=L,y=N,S=R;return j(),A("div",null,[p("div",H,[e(i,{separator:"/"},{default:a(()=>[e(t,null,{default:a(()=>[e(h,null,{default:a(()=>[e(m)]),_:1}),d(" \u6B63\u5728\u4E0B\u8F7D ")]),_:1})]),_:1})]),p("div",J,[p("div",K,[e(E,{gutter:10},{default:a(()=>[e(g,{span:2},{default:a(()=>[e(C,{size:"small",type:"danger",icon:"Close",onClick:o.handleStop,style:{width:"100%"}},{default:a(()=>[d("\u505C\u6B62 ")]),_:1},8,["onClick"])]),_:1}),e(g,{span:6},{default:a(()=>[e(x,{modelValue:o.search,"onUpdate:modelValue":n[0]||(n[0]=l=>o.search=l),size:"small",placeholder:"\u7B5B\u9009\u6587\u4EF6\u540D"},null,8,["modelValue"])]),_:1})]),_:1})]),e(S,{data:o.filterTableData,height:"800",stripe:"",size:"small","highlight-current-row":"",class:"table","row-key":"local_filename",ref:"multipleTable","header-cell-class-name":"table-header",onSelectionChange:o.handleSelectionChange},{default:a(()=>[e(c,{type:"selection",width:"55","reserve-selection":!0}),e(c,{"min-width":"300px",label:"\u6587\u4EF6\u540D",prop:"filename",sortable:"",fixed:""}),e(c,{"min-width":"300px",label:"\u4E0B\u8F7D\u8FDB\u5EA6"},{default:a(l=>[e(y,{percentage:l.row.size/l.row.total*100},{default:a(()=>[d(u((l.row.size/l.row.total*100).toFixed(2))+"%\xA0"+u(o.getfilesize(l.row.speed))+"/s ",1)]),_:2},1032,["percentage"])]),_:1}),e(c,{width:"100px",label:"\u603B\u6587\u4EF6\u5927\u5C0F",prop:"total"},{default:a(l=>[d(u(l.row.total>0?o.getfilesize(l.row.total):"\u6587\u4EF6\u5939"),1)]),_:1}),e(c,{"min-width":"600px",label:"\u5B9E\u9645\u8DEF\u5F84",prop:"local_filename"})]),_:1},8,["data","onSelectionChange"])])])}var ee=q(G,[["render",O],["__scopeId","data-v-12ac0d40"]]);export{ee as default};
