import{a as z,k as T,m as k,i as I,n as B,o as V,p as D,q as L,b as N,r as R,s as U}from"./_element-plus.3a35db37.js";import{_ as q,s as g,a as w,g as F}from"./index.96acf3d7.js";import{f as v,r as M,e as P,a4 as Y,o as Z,c as j,a as p,_ as e,T as a,Y as d,Z as u}from"./_@vue.73c7d285.js";import"./__vendor.467a6c12.js";import"./_@element-plus.8770ec28.js";const A={name:"run",beforeRouteLeave(s,n,r){window.clearInterval(this.timer),r()},setup(){const s=v(""),n=v([]),r=M({data:[]}),l=window.setInterval(()=>{window.setTimeout(_(),0)},2e3),_=()=>{g({url:w.getRun,method:"get"}).then(t=>{console.log(t.data),r.data=t.data.data})};_();const f=()=>{let t=[];for(const i in n.value)t.push(parseInt(n.value[i].fs_id));g({url:w.getStop,method:"post",data:{fsids:t}}).then(i=>{U.success("\u4EFB\u52A1\u5DF2\u505C\u6B62")})},m=P(()=>r.data.filter(t=>!s.value||t.filename.toLowerCase().includes(s.value.toLowerCase())));return{timer:l,getfilesize:F,search:s,filterTableData:m,handleStop:f,handleSelectionChange:t=>{n.value=t}}}},G={class:"crumbs"},H=d(" \u6B63\u5728\u4E0B\u8F7D "),J={class:"container"},K={class:"handle-box"},O=d("\u505C\u6B62 ");function Q(s,n,r,l,_,f){const m=Y("video-play"),h=z,t=T,i=k,C=I,b=B,x=V,E=D,c=L,y=N,S=R;return Z(),j("div",null,[p("div",G,[e(i,{separator:"/"},{default:a(()=>[e(t,null,{default:a(()=>[e(h,null,{default:a(()=>[e(m)]),_:1}),H]),_:1})]),_:1})]),p("div",J,[p("div",K,[e(E,{gutter:10},{default:a(()=>[e(b,{span:2},{default:a(()=>[e(C,{size:"small",type:"danger",icon:"Close",onClick:l.handleStop,style:{width:"100%"}},{default:a(()=>[O]),_:1},8,["onClick"])]),_:1}),e(b,{span:6},{default:a(()=>[e(x,{modelValue:l.search,"onUpdate:modelValue":n[0]||(n[0]=o=>l.search=o),size:"small",placeholder:"\u7B5B\u9009\u6587\u4EF6\u540D"},null,8,["modelValue"])]),_:1})]),_:1})]),e(S,{data:l.filterTableData,height:"800",stripe:"",size:"small","highlight-current-row":"",class:"table","row-key":"local_filename",ref:"multipleTable","header-cell-class-name":"table-header",onSelectionChange:l.handleSelectionChange},{default:a(()=>[e(c,{type:"selection",width:"55","reserve-selection":!0}),e(c,{"min-width":"300px",label:"\u6587\u4EF6\u540D",prop:"filename",sortable:"",fixed:""}),e(c,{"min-width":"300px",label:"\u4E0B\u8F7D\u8FDB\u5EA6"},{default:a(o=>[e(y,{percentage:o.row.size/o.row.total*100},{default:a(()=>[d(u((o.row.size/o.row.total*100).toFixed(2))+"%\xA0"+u(l.getfilesize(o.row.speed))+"/s ",1)]),_:2},1032,["percentage"])]),_:1}),e(c,{width:"100px",label:"\u603B\u6587\u4EF6\u5927\u5C0F",prop:"total"},{default:a(o=>[d(u(o.row.total>0?l.getfilesize(o.row.total):"\u6587\u4EF6\u5939"),1)]),_:1}),e(c,{"min-width":"600px",label:"\u5B9E\u9645\u8DEF\u5F84",prop:"local_filename"})]),_:1},8,["data","onSelectionChange"])])])}var ae=q(A,[["render",Q],["__scopeId","data-v-12ac0d40"]]);export{ae as default};
