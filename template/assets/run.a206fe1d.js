import{a as T,k,m as z,i as I,n as B,o as V,p as D,q as L,b as N,r as R,s as U}from"./_element-plus.3a35db37.js";import{_ as q,s as b,a as g,g as M}from"./index.365ff3a3.js";import{f as w,r as P,e as Y,a4 as Z,o as j,c as A,a as m,_ as e,T as a,Y as d,Z as v}from"./_@vue.73c7d285.js";import"./__vendor.467a6c12.js";import"./_@element-plus.8770ec28.js";const F={name:"run",beforeRouteLeave(s,n,r){window.clearInterval(this.timer),r()},setup(){const s=w(""),n=w([]),r=P({data:[]}),o=window.setInterval(()=>{window.setTimeout(_(),0)},2e3),_=()=>{b({url:g.getRun,method:"get"}).then(t=>{console.log(t.data),r.data=t.data.data})};_();const u=()=>{let t=[];for(const i in n.value)t.push(parseInt(n.value[i].fs_id));b({url:g.getStop,method:"post",data:{fsids:t}}).then(i=>{U.success("\u4EFB\u52A1\u5DF2\u505C\u6B62")})},p=Y(()=>r.data.filter(t=>!s.value||t.filename.toLowerCase().includes(s.value.toLowerCase())));return{timer:o,getfilesize:M,search:s,filterTableData:p,handleStop:u,handleSelectionChange:t=>{n.value=t}}}},G={class:"crumbs"},H=d(" \u6B63\u5728\u4E0B\u8F7D "),J={class:"container"},K={class:"handle-box"},O=d("\u505C\u6B62 ");function Q(s,n,r,o,_,u){const p=Z("video-play"),f=T,t=k,i=z,C=I,h=B,x=V,E=D,c=L,y=N,S=R;return j(),A("div",null,[m("div",G,[e(i,{separator:"/"},{default:a(()=>[e(t,null,{default:a(()=>[e(f,null,{default:a(()=>[e(p)]),_:1}),H]),_:1})]),_:1})]),m("div",J,[m("div",K,[e(E,{gutter:10},{default:a(()=>[e(h,{span:2},{default:a(()=>[e(C,{size:"small",type:"danger",icon:"Close",onClick:o.handleStop,style:{width:"100%"}},{default:a(()=>[O]),_:1},8,["onClick"])]),_:1}),e(h,{span:6},{default:a(()=>[e(x,{modelValue:o.search,"onUpdate:modelValue":n[0]||(n[0]=l=>o.search=l),size:"small",placeholder:"\u7B5B\u9009\u6587\u4EF6\u540D"},null,8,["modelValue"])]),_:1})]),_:1})]),e(S,{data:o.filterTableData,height:"800",stripe:"",size:"small","highlight-current-row":"",class:"table","row-key":"local_filename",ref:"multipleTable","header-cell-class-name":"table-header",onSelectionChange:o.handleSelectionChange},{default:a(()=>[e(c,{type:"selection",width:"55","reserve-selection":!0}),e(c,{"min-width":"300px",label:"\u6587\u4EF6\u540D",prop:"filename",sortable:"",fixed:""}),e(c,{width:"200px",label:"\u4E0B\u8F7D\u8FDB\u5EA6"},{default:a(l=>[e(y,{percentage:l.row.size/l.row.total*100},{default:a(()=>[d(v(o.getfilesize(l.row.speed))+"/s ",1)]),_:2},1032,["percentage"])]),_:1}),e(c,{width:"100px",label:"\u603B\u6587\u4EF6\u5927\u5C0F",prop:"total"},{default:a(l=>[d(v(l.row.total>0?o.getfilesize(l.row.total):"\u6587\u4EF6\u5939"),1)]),_:1}),e(c,{"min-width":"600px",label:"\u5B9E\u9645\u8DEF\u5F84",prop:"local_filename"})]),_:1},8,["data","onSelectionChange"])])])}var ae=q(F,[["render",Q],["__scopeId","data-v-190b6792"]]);export{ae as default};
